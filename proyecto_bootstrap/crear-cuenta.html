<!DOCTYPE html>
<html lang="en">
<head>
    <title>Bootstrap Example</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
</head>
<style>
    label, h2 {
        color: white;
    }

    h2 {
        text-align: center;
        text-transform: uppercase;
    }

    body {
        background-color: hsla(0, 0%, 27%, 0.712);
    }

    form {
        padding: 3rem;
    }
</style>
<body>

<div class="container mt-3 bg-dark">
    <form class="was-validated" action="index.html">
        <h2>Crear cuenta</h2>
        <div class="mb-3 mt-3">
            <label for="email">Correo electrónico:</label>
            <input type="email" class="form-control" id="email" placeholder="Escriba su correo electrónico" name="email" required autofocus>
          <div class="valid-feedback">Valid.</div>

        </div>
        <div class="mb-3">
            <label for="pwd">Contraseña:</label>
            <input type="password" class="form-control" id="pwd" placeholder="Escriba su contraseña" name="pswd" required maxlength="20" minlength="6" pattern="[A-Za-z0-9]+">
        </div>
        <!--Repetir contraseña-->
        <div class="mb-3">
            <label for="pwd">Repetir contraseña:</label>
            <input type="password" class="form-control" id="pwd2" placeholder="Escriba su contraseña" name="pswd" required maxlength="20" minlength="6" pattern="[A-Za-z0-9]+">
            <br>
            <!--Sexo-->
            <div class="form-check text-light">
                <input type="radio" class="form-check-input" id="radio1" name="optradio" value="option1" checked> Hombre
                <label class="form-check-label" for="radio1"></label>
            </div>
            <div class="form-check text-light">
                <input type="radio" class="form-check-input" id="radio2" name="optradio" value="option2"> Mujer
                <label class="form-check-label" for="radio2"></label>
            </div>
            <div class="form-check mb-3">
              <br>
                <label class="form-check-label">
                    <input class="form-check-input" type="checkbox" name="remember"> Recuérdame
                </label>
            </div>
            <button type="submit" class="btn btn-secondary">Enviar</button>
        </div>
        <br><br>
    </form>
</div>
<script>
    //CONTRASEÑAS
        //Validar que las contraseñas coincidan
        const password = document.getElementById('pwd');
        const password2 = document.getElementById('pwd2');
        const form = document.getElementById('form');
        const errorElement = document.getElementById('error');
        form.addEventListener('submit', (e) => {
            let messages = []
            if (password.value === '' || password.value == null) {
                messages.push('Debe escribir una contraseña de entre 6 y 20 caracteres formado por números y letras')
            }
            if (password.value !== password2.value) {
                messages.push('Las contraseñas no coinciden')
            }
            if (messages.length > 0) {
                e.preventDefault()
                errorElement.innerText = messages.join(', ')
            }
        })

    //EMAIL
        //Aseguramos en el email que después del punto contenga al menos 2 caracteres
        const email = document.getElementById('email');
        let validFeedback = document.querySelector(".valid-feedback");
        if (email.value.includes('.') && email.value.split(".")[1].length >= 2) {
            validFeedback.className = "invalid-feedback";
        }
        //debe contener un punto
        if (!email.value.includes('.')) {
            validFeedback.className = "invalid-feedback";
        }


</script>
</body>
</html>
